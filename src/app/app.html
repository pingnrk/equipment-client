<dx-toolbar class="header-toolbar">
  <dxi-item location="before">
    <div *dxTemplate class="toolbar-left">
      <dx-button
        icon="menu"
        stylingMode="text"
        (onClick)="toggleDrawer()"
      ></dx-button>
      <span class="app-title">{{ title }}</span>
    </div>
  </dxi-item>

  <dxi-item location="after">
    <div *dxTemplate class="toolbar-right">
      <div *ngIf="isLoggedIn" class="user-info">
        <i class="dx-icon-user"></i>
        <span>{{ userName }}</span>
      </div>

      <dx-button
        *ngIf="isLoggedIn"
        text="Logout"
        icon="runner"
        stylingMode="text"
        (onClick)="logout()"
      ></dx-button>

      <dx-button
        *ngIf="!isLoggedIn"
        text="Login"
        icon="key"
        stylingMode="text"
        (onClick)="goToLogin()"
      ></dx-button>
    </div>
  </dxi-item>
</dx-toolbar>

<dx-drawer
  [opened]="isDrawerOpen"
  [position]="'left'"
  [openedStateMode]="'shrink'"
  [revealMode]="'slide'"
  template="menuTemplate"
  height="calc(100vh - 50px)"
  [shading]="false"
  [closeOnOutsideClick]="false"
>
  <div *dxTemplate="let data of 'menuTemplate'" class="drawer-menu">
    <dx-list
      [dataSource]="menuItems"
      [hoverStateEnabled]="true"
      [activeStateEnabled]="true"
      [focusStateEnabled]="false"
      (onItemClick)="onItemClick($event)"
      keyExpr="path"
      selectionMode="single"
      [selectedItemKeys]="selectedKeys"
    >
      <div *dxTemplate="let item of 'item'">
        <div class="menu-item-content">
          <i [class]="'dx-icon-' + item.icon"></i>
          <span>{{ item.text }}</span>
        </div>
      </div>
    </dx-list>
  </div>

  <div class="content-container">
    <router-outlet></router-outlet>
  </div>
</dx-drawer>